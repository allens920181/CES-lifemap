<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>è¯ç¥ç”Ÿæ´»åœ°åœ–</title>
  <style>
    :root{
      --bg:#ffffff; --fg:#111111; --muted:#6b7280; --line:#e5e7eb;
      --card:#f7f7f8; --radius:16px;
      --shadow:0 1px 2px rgba(0,0,0,.04), 0 4px 12px rgba(0,0,0,.03);
      --focus:#111111;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--fg);
      font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans TC", "Helvetica Neue", Arial, "PingFang TC", "Microsoft JhengHei", sans-serif;
      line-height:1.7;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      -webkit-tap-highlight-color:transparent;
    }
    .wrap{max-width:720px; margin:0 auto; padding:16px}

    /* Header */
    .title{
      position:sticky; top:0; z-index:10;
      backdrop-filter:saturate(180%) blur(8px);
      background:rgba(255,255,255,.9);
      border-bottom:1px solid var(--line);
    }
    .brand{max-width:720px; margin:0 auto; padding:12px 16px; display:flex; align-items:center; gap:12px}
    .brand h1{font-size:clamp(18px, 2.5vw, 20px); margin:0; font-weight:700}
    .brand .sub{font-size:12px; color:var(--muted)}
    .lang-toggle{margin-left:auto; display:flex; gap:8px; align-items:center}
    .btn{
      border:1px solid var(--line); background:#fff; padding:8px 12px; border-radius:999px;
      font-size:12px; cursor:pointer; line-height:1; min-height:36px;
      transition:background .15s ease, border-color .15s ease, box-shadow .15s ease;
    }
    .btn:hover{background:#f9fafb}
    .btn[aria-pressed="true"]{background:#f3f4f6; border-color:#d1d5db}
    .btn:focus-visible{
      outline:2px solid var(--focus); outline-offset:2px;
    }

    /* Card/Accordion */
    .section{
      background:var(--card); border:1px solid var(--line); border-radius:var(--radius);
      padding:6px; margin:12px 0; box-shadow:var(--shadow);
    }
    details{
      border-radius:12px; overflow:hidden; background:#fff; border:1px solid var(--line);
    }
    details + details{margin-top:8px}
    summary{
      list-style:none; cursor:pointer; padding:16px; display:flex; align-items:center; gap:12px;
      min-height:44px; /* è§¸æ§å‹å–„ */
    }
    summary::-webkit-details-marker{display:none}
    summary:hover{background:#fafafa}
    details[open] summary{background:#f8fafc} /* é–‹å•Ÿæ…‹æœ‰æ·¡åº• */

    .chev{margin-left:auto; transition:transform .2s ease}
    details[open] .chev{transform:rotate(90deg)}
    .sec-icon{
      width:28px; height:28px; display:grid; place-items:center; border-radius:8px;
      background:#f3f4f6; font-size:16px; flex:0 0 28px;
    }
    .sec-title{font-size:16px; font-weight:700}

    .subs{border-top:1px solid var(--line); background:#fff}
    .subitem{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:14px 16px; border-top:1px dashed var(--line);
    }
    .subitem:first-child{border-top:none}
    .subname{font-size:15px}

    .link{
      font-size:14px; color:var(--fg); padding:8px 12px; border:1px solid var(--line);
      border-radius:10px; text-decoration:none; min-height:36px; display:inline-flex; align-items:center;
      transition:background .15s ease, border-color .15s ease, box-shadow .15s ease;
    }
    .link:hover{background:#f9fafb}
    .link:focus-visible{outline:2px solid var(--focus); outline-offset:2px}

    .placeholder{
      font-size:12px; color:var(--muted); border:1px dashed var(--line);
      padding:6px 10px; border-radius:10px; min-height:28px; display:inline-flex; align-items:center;
    }

    .footer{margin:24px 0; font-size:12px; color:var(--muted); text-align:center}
  </style>
</head>
<body>
  <header class="title">
    <div class="brand">
      <div style="font-size:22px" aria-hidden="true">ğŸ—ºï¸</div>
      <div>
        <h1 id="site-title">è¯ç¥ç”Ÿæ´»åœ°åœ–</h1>
        <div class="sub" id="site-sub">é»é–‹åˆ†é¡æŸ¥çœ‹å­åˆ†é¡</div>
      </div>
      <div class="lang-toggle" role="group" aria-label="language switch">
        <button id="btn-zh" class="btn" aria-pressed="true">ZH</button>
        <button id="btn-en" class="btn" aria-pressed="false">EN</button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div id="accordion" class="section"></div>
    <div class="footer" id="footer-text">Â© 2025 Allen Liu</div>
  </main>

  <script>
    // ===== A) å¤šèªå­—å…¸ï¼ˆæ–‡å­—å…§å®¹ä¸è®Šï¼‰ =====
    const i18n = {
      zh: {
        title: 'è¯ç¥ç”Ÿæ´»åœ°åœ–', sub: 'é»é–‹åˆ†é¡æŸ¥çœ‹å­åˆ†é¡', footer: 'Â© 2025 Allen Liu',
        sections: { food:'é¤é£²ç¾é£Ÿ', medical:'è¨ºæ‰€é†«é™¢', life:'è³¼ç‰© / ç”Ÿæ´»æœå‹™', traffic:'æ±½æ©Ÿè»Šé¤Šè­·èˆ‡æ¥é€', fun:'è‚²æ¨‚ä¼‘é–’' },
        subs: {
          breakfast:'æ—©é¤', snacks:'å°åƒ', world:'ç•°åœ‹æ–™ç†', late:'å®µå¤œ', cafe:'ç”œé»å’–å•¡', group:'èšé¤åœ°é»',
          hospital:'é†«é™¢', ped:'å°å…’ç§‘è¨ºæ‰€', dental:'ç‰™é†«è¨ºæ‰€', tcm:'ä¸­é†«è¨ºæ‰€', multi:'éª¨ç§‘ / å…§ç§‘ / è‚è†½è…¸èƒƒå°ˆç§‘ / çš®è†šç§‘è¨ºæ‰€', ent_obgyn:'å©¦ç§‘ / è€³é¼»å–‰ç§‘è¨ºæ‰€',
          shopping:'è³¼ç‰©é›œç‰©', idhair:'è­‰ä»¶ç…§ / å‰ªç‡™é«®',
          vehicle:'æ±½æ©Ÿè»Šé¤Šè­·èˆ‡æ¥é€',
          outdoor:'å®¤å¤–å¨›æ¨‚', indoor:'å®¤å…§å¨›æ¨‚'
        },
        open:'é–‹å•Ÿé€£çµ', pending:'å¾…è£œé€£çµ'
      },
      en: {
        title: 'CES Life Map', sub: 'Tap a category to view subcategories', footer: 'Â© 2025 Allen Liu',
        sections: { food:'Food & Dining', medical:'Clinics & Hospitals', life:'Shopping / Services', traffic:'Vehicles & Transport', fun:'Leisure & Recreation' },
        subs: {
          breakfast:'Breakfast', snacks:'Street Food', world:'International', late:'Late-night', cafe:'Dessert & Coffee', group:'Group Dining',
          hospital:'Hospitals', ped:'Pediatrics', dental:'Dentists', tcm:'Traditional Chinese Medicine', multi:'Ortho / Internal / GI / Derm', ent_obgyn:'OB-GYN / ENT',
          shopping:'Groceries & Misc.', idhair:'ID Photos / Hair',
          vehicle:'Vehicle Service / Pickup',
          outdoor:'Outdoor Activities', indoor:'Indoor Activities'
        },
        open:'Open Link', pending:'To be added'
      }
    };

    // ===== B) å­åˆ†é¡é€£çµï¼ˆID ç¶å®šï¼‰ =====
    const linkMap = {
      breakfast:"https://www.google.com/maps/d/edit?mid=1Dn-Elw9xNO0jl12dBu8LykNGmNtkvPQ&usp=share_link",
      snacks:"https://www.google.com/maps/d/edit?mid=15sUZ-SaQ2FG1VU1gRUMPeYNHnvKisEo&usp=share_link",
      world:"https://www.google.com/maps/d/edit?mid=1U5G05NKhZE8Fl4YhCKrJAzOHXYoEoE0&usp=share_link",
      late:"https://www.google.com/maps/d/edit?mid=1rJr4esoAdf9o0Nh4IICIxKNvvYdE83A&usp=share_link",
      cafe:"https://www.google.com/maps/d/edit?mid=1ybaOC7eV_UtgcGV37hhJbo7NMD5qTCI&usp=share_link",
      group:"https://www.google.com/maps/d/edit?mid=192li1hudYbN_wiZu42g1oGyrJwEnvNE&usp=share_link",
      hospital:"https://www.google.com/maps/d/edit?mid=1aek7NtRUI3f4CIptPI_24ZWskf8hbwo&usp=share_link",
      ped:"https://www.google.com/maps/d/edit?mid=1nmLjb-uRohGZY-6JxiFT2ecpJk0NjLk&usp=share_link",
      dental:"https://www.google.com/maps/d/edit?mid=14TlcJXSASj2zx7xfHGo-oj6oBW1WEAQ&usp=share_link",
      tcm:"https://www.google.com/maps/d/edit?mid=1UJtksqgwq4LbzPGh43Jt_5IIZ1rrUgg&usp=share_link",
      multi:"https://www.google.com/maps/d/edit?mid=1EEDbmXgtvwadOAYOn820Hait_dlyFdA&usp=share_link",
      ent_obgyn:"https://www.google.com/maps/d/edit?mid=14QQ7lL3bEOzejgBuO6hbTdEDSwymB9c&usp=share_link",
      shopping:"https://www.google.com/maps/d/edit?mid=1k41PlsZQ0M2g6lUDWqX82TvSXHtJ4Rk&usp=share_link",
      idhair:"https://www.google.com/maps/d/edit?mid=1O8y-XqAOKcHBeYJrKME1gxHejXX6WvA&usp=share_link",
      vehicle:"https://www.google.com/maps/d/edit?mid=11FDAwLI64iwrzby1HgSGfyosY5Es3bU&usp=share_link",
      outdoor:"https://www.google.com/maps/d/edit?mid=1fdYEvBPvwmLzrxGxtQz03iThc5rpKVU&usp=share_link",
      indoor:"https://www.google.com/maps/d/edit?mid=1O0rwhmYO4QKIyz9MxU9AtKLxzerW6Ng&usp=share_link"
    };

    // ===== C) çµæ§‹ï¼ˆID ç‚ºä¸»ï¼‰ =====
    const sections = [
      { icon:'ğŸ´', id:'food',    subs:['breakfast','snacks','world','late','cafe','group'] },
      { icon:'ğŸ¥', id:'medical', subs:['hospital','ped','dental','tcm','multi','ent_obgyn'] },
      { icon:'ğŸª', id:'life',    subs:['shopping','idhair'] },
      { icon:'ğŸš—', id:'traffic', subs:['vehicle'] },
      { icon:'ğŸ‰', id:'fun',     subs:['outdoor','indoor'] },
    ];

    // ===== D) èªè¨€ç‹€æ…‹ =====
    const saved = localStorage.getItem('lang') || 'zh';
    let lang = (saved === 'en' ? 'en' : 'zh');

    // ===== E) æ¸²æŸ“ =====
    const root = document.getElementById('accordion');
    const t = (k, group='subs') => i18n[lang][group][k] || k;

    function renderUI(){
      // æ¨™é¡Œ/å‰¯æ¨™é¡Œ/é å°¾
      document.getElementById('site-title').textContent  = i18n[lang].title;
      document.getElementById('site-sub').textContent    = i18n[lang].sub;
      document.getElementById('footer-text').textContent = i18n[lang].footer;
      document.documentElement.lang = (lang==='zh' ? 'zh-Hant' : 'en');

      // æŒ‰éˆ•ç‹€æ…‹
      document.getElementById('btn-zh').setAttribute('aria-pressed', String(lang==='zh'));
      document.getElementById('btn-en').setAttribute('aria-pressed', String(lang==='en'));

      // å…§å®¹
      root.innerHTML = '';
      sections.forEach(sec => {
        const details = document.createElement('details');
        const summary = document.createElement('summary');

        const icon = document.createElement('div');
        icon.className='sec-icon'; icon.textContent = sec.icon;

        const title = document.createElement('div');
        title.className='sec-title'; title.textContent = i18n[lang].sections[sec.id] || sec.id;

        const chev = document.createElementNS('http://www.w3.org/2000/svg','svg');
        chev.setAttribute('viewBox','0 0 24 24'); chev.setAttribute('width','20'); chev.setAttribute('height','20');
        chev.classList.add('chev');
        chev.innerHTML = '<path d="M8.12 4.12a1 1 0 0 1 1.41 0l6.35 6.35a1 1 0 0 1 0 1.41l-6.35 6.35a1 1 0 1 1-1.41-1.41L13.88 12 8.12 6.24a1 1 0 0 1 0-1.41z" fill="currentColor"/>';

        summary.append(icon, title, chev);

        const subs = document.createElement('div');
        subs.className='subs';
        sec.subs.forEach(subId => {
          const row  = document.createElement('div'); row.className='subitem';
          const left = document.createElement('div'); left.className='subname'; left.textContent = t(subId);

          const url = linkMap[subId] || '';
          let right;
          if(url){
            right = document.createElement('a');
            right.className='link'; right.href=url; right.target='_blank'; right.rel='noopener';
            right.textContent = i18n[lang].open;
          }else{
            right = document.createElement('span'); right.className='placeholder'; right.textContent = i18n[lang].pending;
          }
          row.append(left, right); subs.appendChild(row);
        });

        details.append(summary, subs); root.appendChild(details);
      });
    }

    // ===== F) åˆ‡æ›é‚è¼¯ =====
    document.getElementById('btn-zh').addEventListener('click', () => { lang='zh'; localStorage.setItem('lang','zh'); renderUI(); });
    document.getElementById('btn-en').addEventListener('click', () => { lang='en'; localStorage.setItem('lang','en'); renderUI(); });

    // åˆå§‹åŒ–
    renderUI();
  </script>
</body>
</html>
